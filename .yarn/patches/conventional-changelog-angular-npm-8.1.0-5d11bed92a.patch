diff --git a/src/writer.js b/src/writer.js
index 39e5451c2d01b165ba75e9e94f985b5a235b5b08..d13493a7e86bba8457524db567d8406c883017e4 100644
--- a/src/writer.js
+++ b/src/writer.js
@@ -3,7 +3,6 @@ import { resolve } from 'path'
 import { fileURLToPath } from 'url'
 import compareFunc from 'compare-func'
 
-const dirname = fileURLToPath(new URL('.', import.meta.url))
 const COMMIT_HASH_LENGTH = 7
 
 export async function createWriterOpts() {
@@ -13,10 +12,10 @@ export async function createWriterOpts() {
     commit,
     footer
   ] = await Promise.all([
-    readFile(resolve(dirname, './templates/template.hbs'), 'utf-8'),
-    readFile(resolve(dirname, './templates/header.hbs'), 'utf-8'),
-    readFile(resolve(dirname, './templates/commit.hbs'), 'utf-8'),
-    readFile(resolve(dirname, './templates/footer.hbs'), 'utf-8')
+    readFile(new URL('./templates/template.hbs', import.meta.url), 'utf-8'),
+    readFile(new URL('./templates/header.hbs', import.meta.url), 'utf-8'),
+    readFile(new URL('./templates/commit.hbs', import.meta.url), 'utf-8'),
+    readFile(new URL('./templates/footer.hbs', import.meta.url), 'utf-8')
   ])
   const writerOpts = getWriterOpts()
 
